!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";n(1)},function(t,e,n){(function(e){t.exports=e.Waterwheel=n(2)}).call(e,function(){return this}())},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(3),c=n(25),f=n(32),p=n(5);t.exports=function(t){function e(t,n){r(this,e);var i=o(this,Object.getPrototypeOf(e).call(this,t,n));return i.base=t,i.credentials=n,i.api={query:function(e){return new c(t,n,e)}},i}return i(e,t),u(e,[{key:"addResources",value:function(t){var e=this;return t&&"object"===("undefined"==typeof t?"undefined":s(t))?(Object.keys(t).forEach(function(n){e.api[n]=new f(t[n].base||e.base,t[n].credentials||e.credentials,t[n].methods,t[n].entityType,t[n].bundle,t[n].options)}),this.getAvailableResources()):new Error("Resources should be an Object.")}},{key:"getAvailableResources",value:function(){var t=this,e=[];return e=e.concat(Object.keys(this.api)),Object.keys(this.api).forEach(function(n){t.api[n]instanceof f||t.api[n]instanceof Function||(e.splice(e.indexOf(n),1),e=e.concat(Object.keys(t.api[n]).map(function(t){return n+"."+t})))}),e.sort()}},{key:"fetchResources",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"json":arguments[0];return this.issueRequest(p.get,"/entity/types?_format="+t)}},{key:"populateResources",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?"json":arguments[0];return this.fetchResources(e).then(function(e){return Object.keys(e).forEach(function(n){t.api[n]={},(e[n].bundles?e[n].bundles:[e[n].label.toLowerCase().replace(/ /g,"_")]).forEach(function(r){t.api[n][r]=new f(t.base,t.credentials,e[n].methods,n,r,e[n].more),n===r&&(t.api[n]=t.api[n][r])})}),Promise.resolve(t.getAvailableResources())})}}]),e}(a)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(4),a=n(5);t.exports=function(t){function e(t,i){r(this,e);var s=o(this,Object.getPrototypeOf(e).call(this));return s.base=t,s.credentials=i,s.csrfToken=null,s.axios=n(6),s}return i(e,t),s(e,[{key:"issueRequest",value:function(t,e,n,r,o,i){var s=this;return new Promise(function(u,c){var f={method:t,url:(i||s.base)+"/"+("/"===e.charAt(0)?e.slice(1):e),auth:s.credentials,headers:{"X-CSRF-Token":n}};t===a.get&&delete f.headers["X-CSRF-Token"],r&&0!==Object.keys(r).length&&Object.keys(r).forEach(function(t){f.headers[t]=r[t]}),o&&(f.data=o),s.axios(f).then(function(t){return u(t.data)})["catch"](function(t){var e=new Error(t.data.message);return e.status=t.status,c(e)})})}},{key:"getXCSRFToken",value:function(){var t=this;return this.csrfToken?Promise.resolve(this.csrfToken):new Promise(function(e,n){t.axios({method:"get",url:t.base+"/rest/session/token"}).then(function(n){return t.csrfToken=n.data,e(n.data)})["catch"](function(t){return n(t)})})}}]),e}(u)},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();t.exports=function(){function t(){n(this,t)}return r(t,[{key:"setCredentials",value:function(t){this.credentials=t}},{key:"getCredentials",value:function(){return this.credentials}},{key:"setBase",value:function(t){this.base=t}},{key:"getBase",value:function(){return this.base}}]),t}()},function(t,e){"use strict";t.exports={get:"GET",patch:"PATCH",post:"POST","delete":"DELETE"}},function(t,e,n){t.exports=n(7)},function(t,e,n){"use strict";function r(t){this.defaults=i.merge({},t),this.interceptors={request:new u,response:new u}}var o=n(8),i=n(9),s=n(10),u=n(20),a=n(21),c=n(22),f=n(23),p=n(15);r.prototype.request=function(t){"string"==typeof t&&(t=i.merge({url:arguments[0]},arguments[1])),t=i.merge(o,this.defaults,{method:"get"},t),t.baseURL&&!a(t.url)&&(t.url=c(t.baseURL,t.url)),t.withCredentials=t.withCredentials||this.defaults.withCredentials,t.data=p(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]});var e=[s,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n};var l=new r(o),h=t.exports=f(r.prototype.request,l);t.exports.Axios=r,h.defaults=l.defaults,h.interceptors=l.interceptors,h.create=function(t){return new r(t)},h.all=function(t){return Promise.all(t)},h.spread=n(24),i.forEach(["delete","get","head"],function(t){r.prototype[t]=function(e,n){return this.request(i.merge(n||{},{method:t,url:e}))},h[t]=f(r.prototype[t],l)}),i.forEach(["post","put","patch"],function(t){r.prototype[t]=function(e,n,r){return this.request(i.merge(r||{},{method:t,url:e,data:n}))},h[t]=f(r.prototype[t],l)})},function(t,e,n){"use strict";var r=n(9),o=/^\)\]\}',?\n/,i={"Content-Type":"application/x-www-form-urlencoded"};t.exports={transformRequest:[function(t,e){return r.isFormData(t)||r.isArrayBuffer(t)||r.isStream(t)?t:r.isArrayBufferView(t)?t.buffer:!r.isObject(t)||r.isFile(t)||r.isBlob(t)?t:(r.isUndefined(e)||(r.forEach(e,function(t,n){"content-type"===n.toLowerCase()&&(e["Content-Type"]=t)}),r.isUndefined(e["Content-Type"])&&(e["Content-Type"]="application/json;charset=utf-8")),JSON.stringify(t))}],transformResponse:[function(t){if("string"==typeof t){t=t.replace(o,"");try{t=JSON.parse(t)}catch(e){}}return t}],headers:{common:{Accept:"application/json, text/plain, */*"},patch:r.merge(i),post:r.merge(i),put:r.merge(i)},timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}}},function(t,e){"use strict";function n(t){return"[object Array]"===b.call(t)}function r(t){return"[object ArrayBuffer]"===b.call(t)}function o(t){return"undefined"!=typeof FormData&&t instanceof FormData}function i(t){var e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer}function s(t){return"string"==typeof t}function u(t){return"number"==typeof t}function a(t){return"undefined"==typeof t}function c(t){return null!==t&&"object"==typeof t}function f(t){return"[object Date]"===b.call(t)}function p(t){return"[object File]"===b.call(t)}function l(t){return"[object Blob]"===b.call(t)}function h(t){return"[object Function]"===b.call(t)}function d(t){return c(t)&&h(t.pipe)}function y(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function v(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement}function m(t,e){if(null!==t&&"undefined"!=typeof t)if("object"==typeof t||n(t)||(t=[t]),n(t))for(var r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else for(var i in t)t.hasOwnProperty(i)&&e.call(null,t[i],i,t)}function g(){function t(t,n){"object"==typeof e[n]&&"object"==typeof t?e[n]=g(e[n],t):e[n]=t}for(var e={},n=0,r=arguments.length;n<r;n++)m(arguments[n],t);return e}var b=Object.prototype.toString;t.exports={isArray:n,isArrayBuffer:r,isFormData:o,isArrayBufferView:i,isString:s,isNumber:u,isObject:c,isUndefined:a,isDate:f,isFile:p,isBlob:l,isFunction:h,isStream:d,isStandardBrowserEnv:v,forEach:m,merge:g,trim:y}},function(t,e,n){(function(e){"use strict";t.exports=function(t){return new Promise(function(r,o){try{var i;"function"==typeof t.adapter?i=t.adapter:"undefined"!=typeof XMLHttpRequest?i=n(12):"undefined"!=typeof e&&(i=n(12)),"function"==typeof i&&i(r,o,t)}catch(s){o(s)}})}}).call(e,n(11))},function(t,e){function n(){p&&c&&(p=!1,c.length?f=c.concat(f):l=-1,f.length&&r())}function r(){if(!p){var t=s(n);p=!0;for(var e=f.length;e;){for(c=f,f=[];++l<e;)c&&c[l].run();l=-1,e=f.length}c=null,p=!1,u(t)}}function o(t,e){this.fun=t,this.array=e}function i(){}var s,u,a=t.exports={};!function(){try{s=setTimeout}catch(t){s=function(){throw new Error("setTimeout is not defined")}}try{u=clearTimeout}catch(t){u=function(){throw new Error("clearTimeout is not defined")}}}();var c,f=[],p=!1,l=-1;a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new o(t,e)),1!==f.length||p||s(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=i,a.addListener=i,a.once=i,a.off=i,a.removeListener=i,a.removeAllListeners=i,a.emit=i,a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e,n){(function(e){"use strict";var r=n(9),o=n(13),i=n(14),s=n(15),u=n(16),a="undefined"!=typeof window&&window.btoa||n(17),c=n(18);t.exports=function(t,f,p){var l=p.data,h=p.headers;r.isFormData(l)&&delete h["Content-Type"];var d=new XMLHttpRequest,y="onreadystatechange",v=!1;if("test"===e.env.NODE_ENV||"undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||u(p.url)||(d=new window.XDomainRequest,y="onload",v=!0,d.onprogress=function(){},d.ontimeout=function(){}),p.auth){var m=p.auth.username||"",g=p.auth.password||"";h.Authorization="Basic "+a(m+":"+g)}if(d.open(p.method.toUpperCase(),o(p.url,p.params,p.paramsSerializer),!0),d.timeout=p.timeout,d[y]=function(){if(d&&(4===d.readyState||v)&&0!==d.status){var e="getAllResponseHeaders"in d?i(d.getAllResponseHeaders()):null,n=p.responseType&&"text"!==p.responseType?d.response:d.responseText,r={data:s(n,e,p.transformResponse),status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:e,config:p,request:d};c(t,f,r),d=null}},d.onerror=function(){f(new Error("Network Error")),d=null},d.ontimeout=function(){var t=new Error("timeout of "+p.timeout+"ms exceeded");t.timeout=p.timeout,t.code="ECONNABORTED",f(t),d=null},r.isStandardBrowserEnv()){var b=n(19),w=p.withCredentials||u(p.url)?b.read(p.xsrfCookieName):void 0;w&&(h[p.xsrfHeaderName]=w)}if("setRequestHeader"in d&&r.forEach(h,function(t,e){"undefined"==typeof l&&"content-type"===e.toLowerCase()?delete h[e]:d.setRequestHeader(e,t)}),p.withCredentials&&(d.withCredentials=!0),p.responseType)try{d.responseType=p.responseType}catch(E){if("json"!==d.responseType)throw E}p.progress&&("post"===p.method||"put"===p.method?d.upload.addEventListener("progress",p.progress):"get"===p.method&&d.addEventListener("progress",p.progress)),void 0===l&&(l=null),d.send(l)}}).call(e,n(11))},function(t,e,n){"use strict";function r(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var o=n(9);t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else{var s=[];o.forEach(e,function(t,e){null!==t&&"undefined"!=typeof t&&(o.isArray(t)&&(e+="[]"),o.isArray(t)||(t=[t]),o.forEach(t,function(t){o.isDate(t)?t=t.toISOString():o.isObject(t)&&(t=JSON.stringify(t)),s.push(r(e)+"="+r(t))}))}),i=s.join("&")}return i&&(t+=(t.indexOf("?")===-1?"?":"&")+i),t}},function(t,e,n){"use strict";var r=n(9);t.exports=function(t){var e,n,o,i={};return t?(r.forEach(t.split("\n"),function(t){o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e&&(i[e]=i[e]?i[e]+", "+n:n)}),i):i}},function(t,e,n){"use strict";var r=n(9);t.exports=function(t,e,n){return r.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){"use strict";var r=n(9);t.exports=r.isStandardBrowserEnv()?function(){function t(t){var e=t;return n&&(o.setAttribute("href",e),e=o.href),o.setAttribute("href",e),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}var e,n=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");return e=t(window.location.href),function(n){var o=r.isString(n)?t(n):n;return o.protocol===e.protocol&&o.host===e.host}}():function(){return function(){return!0}}()},function(t,e){"use strict";function n(){this.message="String contains an invalid character"}function r(t){for(var e,r,i=String(t),s="",u=0,a=o;i.charAt(0|u)||(a="=",u%1);s+=a.charAt(63&e>>8-u%1*8)){if(r=i.charCodeAt(u+=.75),r>255)throw new n;e=e<<8|r}return s}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.prototype=new Error,n.prototype.code=5,n.prototype.name="InvalidCharacterError",t.exports=r},function(t,e){"use strict";t.exports=function(t,e,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(n):t(n)}},function(t,e,n){"use strict";var r=n(9);t.exports=r.isStandardBrowserEnv()?function(){return{write:function(t,e,n,o,i,s){var u=[];u.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),r.isString(o)&&u.push("path="+o),r.isString(i)&&u.push("domain="+i),s===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(t,e,n){"use strict";function r(){this.handlers=[]}var o=n(9);r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){o.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=r},function(t,e){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e){"use strict";t.exports=function(t,e){return t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,"")}},function(t,e){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(3),a=n(26).entityQuery;t.exports=function(t){function e(t,n,i){r(this,e);var s=o(this,Object.getPrototypeOf(e).call(this,t,n));return s.entityType=i,s.entityQuery=new a(s.entityType),s}return i(e,t),s(e,[{key:"get",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"json":arguments[0],e=this.entityQuery.getQueryString();return this.issueRequest("GET","entity/"+this.entityType+"?"+e+"&_format="+t,"")}},{key:"range",value:function(t,e){return this.entityQuery.range(t,e),this}},{key:"condition",value:function(t,e,n,r){return this.entityQuery.condition(t,e,n,r),this}},{key:"sort",value:function(t,e,n){return this.entityQuery.sort(t,e,n),this}},{key:"exists",value:function(t,e){return this.entityQuery.exists(t,e),this}},{key:"notExists",value:function(t,e){return this.entityQuery.notExists(t,e),this}},{key:"andConditionGroup",value:function(){return this.entityQuery.andConditionGroup()}},{key:"orConditionGroup",value:function(){return this.entityQuery.orConditionGroup()}}]),e}(u)},function(t,e,n){t.exports={entityQuery:n(27)}},function(t,e,n){var r=n(28),o=n(29),i=n(30),s=n(31),u=function(t){this.entityType=t,this.children=[],this.count=!1,this.hasRange=!1,this.start=null,this.length=null};u.prototype.range=function(t,e){return this.hasRange=!0,this.start=t,this.length=e||this.length,this},u.prototype.condition=function(t,e,n,r){return this.children.push(new o(t,e,n,r)),this},u.prototype.sort=function(t,e,n){return this.children.push(new r(t,e,n)),this},u.prototype.exists=function(t,e){return this.children.push(new s(t,e,(!0))),this},u.prototype.notExists=function(t,e){return this.children.push(new s(t,e,(!1))),this},u.prototype.andConditionGroup=function(){var t=this.children.push(new i("AND"));return this.children[t-1]},u.prototype.orConditionGroup=function(){var t=this.children.push(new i("OR"));return this.children[t-1]},u.prototype.getQueryString=function(){return this.compile().map(this.paramToString).join("&")},u.prototype.compile=function(){var t={},e=[];return this.children.forEach(function(n){child_id=t[n.type]||0,n.attach(child_id,e),t[n.type]=child_id+1}),this.hasRange&&(e.push({key:"range",name:"start",value:this.start}),this.length&&e.push({key:"range",name:"length",value:this.length})),e},u.prototype.paramToString=function(t){return t.key+"["+t.name+"]="+t.value},t.exports=u},function(t,e){var n=function(t,e,n){this.field=t,this.direction=e?e:"ASC",this.langcode=n?n:null};n.prototype.attach=function(t,e){var n=[];n.push({name:"field",value:this.field}),n.push({name:"direction",value:this.direction}),this.langcode&&n.push({name:"langcode",value:this.langcode}),Array.prototype.push.apply(e,n.map(function(e){return e.key="sort_"+t,e}))},t.exports=n},function(t,e){var n=function(t,e,n,r){this.type="condition",this.field=t,this.value=e,this.operator=n?n:"=",this.langcode=r?r:null};n.prototype.mapOperator=function(t){return dict={"=":"EQ","<>":"NOTEQ",">":"GT",">=":"GTEQ","<":"LT","<=":"LTEQ"},t in dict?dict[t]:t},n.prototype.attach=function(t,e){var n=[];n.push({name:"field",value:this.field}),n.push({name:"value",value:this.value}),n.push({name:"operator",value:this.mapOperator(this.operator)}),this.langcode&&n.push({name:"langcode",value:this.langcode}),Array.prototype.push.apply(e,n.map(function(e){return e.key="condition_"+t,e}))},t.exports=n},function(t,e,n){var r=n(29),o=n(31),i=function(t,e){this.type="group",this.conjunction=t?t:"AND",e&&(this.group=e),this.children=[]};i.prototype.attach=function(t,e){var n=[];n.push({name:"conjunction",value:this.conjunction}),this.group&&n.push({name:this.type,value:this.group}),Array.prototype.push.apply(e,n.map(function(e){return e.key=this.type+"_"+t,e},this)),this.children.forEach(function(n,r){var o=""+t+r;n.attach(o,e),e.push({name:"group",value:"group_"+t,key:n.type+"_"+o})})},i.prototype.condition=function(t,e,n,o){return this.children.push(new r(t,e,n,o)),this},i.prototype.exists=function(t,e){return this.children.push(new o(t,e,(!0))),this},i.prototype.notExists=function(t,e){return this.children.push(new o(t,e,(!1))),this},i.prototype.andConditionGroup=function(){var t=this.children.push(new i("AND"));return this.children[t-1]},i.prototype.orConditionGroup=function(){var t=this.children.push(new i("OR"));return this.children[t-1]},t.exports=i},function(t,e){var n=function(t,e,n){this.type="exists",this.field=t,this.langcode=e?e:null,this.condition=void 0==n||n};n.prototype.attach=function(t,e){var n=[],r=this.condition?"TRUE":"FALSE";n.push({name:"field",value:this.field}),n.push({name:"condition",value:r}),this.langcode&&n.push({name:"langcode",value:this.langcode}),Array.prototype.push.apply(e,n.map(function(e){return e.key=this.type+"_"+t,e},this))},t.exports=n},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(3),a=n(5);t.exports=function(t){function e(t,n,i,s,u,a){r(this,e);var c=o(this,Object.getPrototypeOf(e).call(this,t,n));return c.paths=i,c.paths.OPTIONS=a,c.entity=s,c.bundle=u,c.metadata={},c}return i(e,t),s(e,[{key:"get",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?"json":arguments[1];return this.issueRequest(a.get,this.paths.GET.replace(this.paths.GET.match(/\{.*?\}/),t)+"?_format="+e,"")}},{key:"patch",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?"json":arguments[2];return this.getXCSRFToken().then(function(o){return e.issueRequest(a.patch,e.paths.PATCH.replace(e.paths.GET.match(/\{.*?\}/),t)+"?_format="+r,o,{},n)})}},{key:"post",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]?"application/json":arguments[1];return this.getXCSRFToken().then(function(r){return e.issueRequest(a.post,e.paths.POST,r,{"Content-type":n},t)})}},{key:"delete",value:function(t){var e=this;return this.getXCSRFToken().then(function(n){return e.issueRequest(a["delete"],""+e.paths.DELETE.replace(e.paths.GET.match(/\{.*?\}/),t),n)})}},{key:"getFieldData",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?"json":arguments[0];return this.issueRequest(a.get,this.paths.OPTIONS.replace(this.paths.OPTIONS.match(/\{.*?\}/),this.bundle)+"?_format="+e).then(function(e){return t.metadata=e,Promise.resolve(e)})}},{key:"setField",value:function(t,e,n){var r=this;return new Promise(function(o,i){(r.metadata.fields?Promise.resolve():r.getFieldData()).then(function(){var s=Object.keys(r.metadata.fields),u=(Array.isArray(e)?e:[e]).map(function(t){return Object.keys(t)[0]}).map(function(t){return!s.includes(t)&&t}).filter(Boolean);if(u.length)return i(new Error("The "+(u.length>1?"fields":"field")+", "+u.join(", ")+", "+(u.length>1?"are":"is")+" not included within the bundle, "+r.bundle+"."));var a={type:r.bundle};return(Array.isArray(e)?e:[e]).forEach(function(t){var e=Object.keys(t)[0],n=t[e];"string"==typeof n&&(a[e]=[{value:n}]),Array.isArray(n)&&(a[e]=n.map(function(t){return{value:t}}))}),n&&0!==Object.keys(n).length&&Object.keys(n).forEach(function(t){a[t]=n[t]}),r.patch(t,a).then(function(){return o(a)})})})}}]),e}(u)}]);